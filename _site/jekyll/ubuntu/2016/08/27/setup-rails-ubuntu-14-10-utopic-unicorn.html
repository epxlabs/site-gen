<h1 id="setup-ruby-on-rails-on-ubuntu-1410-utopic-unicorn">Setup Ruby On Rails on Ubuntu 14.10 Utopic Unicorn</h1>

<p>This will take about 30 minutes.</p>

<p>We will be setting up a Ruby on Rails development environment on Ubuntu 14.10 Utopic Unicorn.</p>

<p>The reason we’re going to be using Ubuntu is because the majority of code you write will run on a Linux server. Ubuntu is one of the easiest Linux distributions to use with lots of documentation so it’s a great one to start with.</p>

<p>You’ll want to download the latest Desktop version here: http://releases.ubuntu.com/14.10/</p>

<p>Some of you may choose to develop on Ubuntu Server so that your development environment matches your production server. You can find it on the same download link above.
Installing Ruby</p>

<p>The first step is to install some dependencies for Ruby.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sudo apt-get update
sudo apt-get install git-core curl zlib1g-dev build-essential libssl-dev libreadline-dev libyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt1-dev libcurl4-openssl-dev python-software-properties libffi-dev
</code></pre>
</div>

<p>Next we’re going to be installing Ruby using one of three methods. Each have their own benefits, most people prefer using rbenv these days, but if you’re familiar with rvm you can follow those steps as well. I’ve included instructions for installing from source as well, but in general, you’ll want to choose either rbenv or rvm.</p>

<p>Installing with rbenv is a simple two step process. First you install rbenv, and then ruby-build:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cd
git clone https://github.com/rbenv/rbenv.git ~/.rbenv
echo 'export PATH="$HOME/.rbenv/bin:$PATH"' &gt;&gt; ~/.bashrc
echo 'eval "$(rbenv init -)"' &gt;&gt; ~/.bashrc
exec $SHELL

git clone https://github.com/rbenv/ruby-build.git ~/.rbenv/plugins/ruby-build
echo 'export PATH="$HOME/.rbenv/plugins/ruby-build/bin:$PATH"' &gt;&gt; ~/.bashrc
exec $SHELL

rbenv install 2.3.1
rbenv global 2.3.1
ruby -v
</code></pre>
</div>

<p>The last step is to install Bundler</p>

<div class="highlighter-rouge"><pre class="highlight"><code>gem install bundler
</code></pre>
</div>

<p>rbenv users need to run rbenv rehash after installing bundler.
Configuring Git</p>

<p>We’ll be using Git for our version control system so we’re going to set it up to match our Github account. If you don’t already have a Github account, make sure to register. It will come in handy for the future.</p>

<p>Replace my name and email address in the following steps with the ones you used for your Github account.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>git config --global color.ui true
git config --global user.name "YOUR NAME"
git config --global user.email "YOUR@EMAIL.com"
ssh-keygen -t rsa -b 4096 -C "YOUR@EMAIL.com"
</code></pre>
</div>

<p>The next step is to take the newly generated SSH key and add it to your Github account. You want to copy and paste the output of the following command and paste it here.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cat ~/.ssh/id_rsa.pub
</code></pre>
</div>

<p>Once you’ve done this, you can check and see if it worked:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>ssh -T git@github.com
</code></pre>
</div>

<p>You should get a message like this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Hi excid3! You've successfully authenticated, but GitHub does not provide shell access.
</code></pre>
</div>

<h2 id="installing-rails">Installing Rails</h2>

<p>Since Rails ships with so many dependencies these days, we’re going to need to install a Javascript runtime like NodeJS. This lets you use Coffeescript and the Asset Pipeline in Rails which combines and minifies your javascript to provide a faster production environment.</p>

<p>To install NodeJS, we’re going to add it using the official repository:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>curl -sL https://deb.nodesource.com/setup_4.x | sudo -E bash -
sudo apt-get install -y nodejs
</code></pre>
</div>

<p>And now, without further adieu:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>gem install rails -v 4.2.6
</code></pre>
</div>

<p>If you’re using rbenv, you’ll need to run the following command to make the rails executable available:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>rbenv rehash
</code></pre>
</div>

<p>Now that you’ve installed Rails, you can run the rails -v command to make sure you have everything installed correctly:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>rails -v
# Rails 4.2.6
</code></pre>
</div>

<p>If you get a different result for some reason, it means your environment may not be setup properly.
Setting Up MySQL</p>

<p>Rails ships with sqlite3 as the default database. Chances are you won’t want to use it because it’s stored as a simple file on disk. You’ll probably want something more robust like MySQL or PostgreSQL.</p>

<p>There is a lot of documentation on both, so you can just pick one that seems like you’ll be more comfortable with. If you’re coming from PHP, you may already be familiar with MySQL. If you’re new to databases, I’d suggest skipping to setting up PostgreSQL.</p>

<p>You can install MySQL server and client from the packages in the Ubuntu repository. As part of the installation process, you’ll set the password for the root user. This information will go into your Rails app’s database.yml file in the future.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sudo apt-get install mysql-server mysql-client libmysqlclient-dev
</code></pre>
</div>

<p>Installing the libmysqlclient-dev gives you the necessary files to compile the mysql2 gem which is what Rails will use to connect to MySQL when you setup your Rails app.</p>

<p>When you’re finished, you can skip to the Final Steps.</p>

<h2 id="setting-up-postgresql">Setting Up PostgreSQL</h2>

<p>For PostgreSQL, we’re going to add a new repository to easily install a recent version of Postgres.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sudo sh -c "echo 'deb http://apt.postgresql.org/pub/repos/apt/ precise-pgdg main' &gt; /etc/apt/sources.list.d/pgdg.list"
wget --quiet -O - http://apt.postgresql.org/pub/repos/apt/ACCC4CF8.asc | sudo apt-key add -
sudo apt-get update
sudo apt-get install postgresql-common
sudo apt-get install postgresql-9.5 libpq-dev
</code></pre>
</div>

<p>The postgres installation doesn’t setup a user for you, so you’ll need to follow these steps to create a user with permission to create databases. Feel free to replace chris with your username.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sudo -u postgres createuser chris -s
</code></pre>
</div>

<p>If you would like to set a password for the user, you can do the following</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sudo -u postgres psql
postgres=# \password chris
</code></pre>
</div>

<h2 id="final-steps">Final Steps</h2>

<p>And now for the moment of truth. Let’s create your first Rails application:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>#### If you want to use SQLite (not recommended)
rails new myapp

#### If you want to use MySQL
rails new myapp -d mysql

#### If you want to use Postgres
# Note that this will expect a postgres user with the same username
# as your app, you may need to edit config/database.yml to match the
# user you created earlier
rails new myapp -d postgresql

# Move into the application directory
cd myapp

# If you setup MySQL or Postgres with a username/password, modify the
# config/database.yml file to contain the username/password that you specified

# Create the database
rake db:create

rails server
</code></pre>
</div>

<p>You can now visit <a href="http://localhost:3000">http://localhost:3000</a> to view your new website!</p>

<p>Now that you’ve got your machine setup, it’s time to start building some Rails applications.</p>

<p>If you received an error that said <code class="highlighter-rouge">Access denied for user 'root'@'localhost' (using password: NO)</code> then you need to update your config/database.yml file to match the database username and password.</p>

