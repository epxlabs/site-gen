<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Basic -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>EPX Labs, Inc.</title>
    <meta name="keywords" content="" />
    <meta name="description" content="EPX Labs, Inc." />
    <meta name="author" content="EPX Labs, Inc." />
    <meta name="google-site-verification" content="Rs32ezHC25vADQquLA_bBGGylM54r7kuHg2DmMJ8hhg" />
    <!-- Favicon -->
    <link rel="shortcut icon" href="/img/1cefb549bc4e/epx-favicon.png" type="image/x-icon" />
    <!-- Mobile Metas -->
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <!-- Web Fonts  -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800%7CShadows+Into+Light" rel="stylesheet" type="text/css" />
    <!-- CSS Bundle -->
    <link rel="stylesheet" type="text/css" href="/bundles/d23dee499b3c/app.css" />
    <!-- Head Libs -->
    <script src="/vendor/modernizr/modernizr.min.js"></script>
  </head>
  <body class="one-page" data-target="#header" data-spy="scroll" data-offset="100">
    <div class="body">
      <!-- Fill content here -->
      <div role="main" class="main" id="home"><html><body><div id="intro">
  <header id="header" class="header-narrow" data-plugin-options="{&quot;stickyEnabled&quot;: true, &quot;stickyEnableOnBoxed&quot;: true, &quot;stickyEnableOnMobile&quot;: true, &quot;stickyStartAtElement&quot;: &quot;#header&quot;, &quot;stickySetTop&quot;: &quot;0&quot;, &quot;stickyChangeLogo&quot;: false}">
    <div class="header-body">
      <div class="header-container container">
        <div class="header-row">
          <div class="header-column">
            <div class="header-logo">
              <a href="/" id="header-logo">
                <img alt="EPX Labs" width="205" height="50" data-sticky-width="164" data-sticky-height="40" data-sticky-top="7" src="/img/logos/62b1cdcca819/epx_logo.svg" />
              </a>
            </div>
          </div>
          <div class="header-column">
            <div class="header-row">
              <div class="header-nav header-nav-top-line">
                <button class="btn header-btn-collapse-nav" data-toggle="collapse" data-target=".header-nav-main">
                  <i class="fa fa-bars"></i>
                </button>
                <ul class="header-social-icons social-icons hidden-xs">
                  <li class="social-icons-github"><a target="_blank" href="https://github.com/epxlabs/" title="GitHub"><i class="fa fa-github"></i></a></li><li class="social-icons-linkedin"><a target="_blank" href="https://www.linkedin.com/company/epx-labs/" title="LinkedIn"><i class="fa fa-linkedin"></i></a></li><li class="social-icons-twitter"><a target="_blank" href="https://twitter.com/epxlabs" title="Twitter"><i class="fa fa-twitter"></i></a></li>
                </ul>
                <div class="header-nav-main header-nav-main-square header-nav-main-effect-3 header-nav-main-sub-effect-1 collapse">
                  <nav>
                    <ul class="nav nav-pills" id="mainNav">
                      <li id="devops">
                        <a data-hash="data-hash" data-hash-offset="70" href="devops" class="nav-links">Devops</a>
                      </li><li id="serverless">
                        <a data-hash="data-hash" data-hash-offset="70" href="serverless" class="nav-links">Serverless</a>
                      </li><li id="nodejs">
                        <a data-hash="data-hash" data-hash-offset="70" href="nodejs" class="nav-links">nodejs</a>
                      </li><li id="clojure">
                        <a data-hash="data-hash" data-hash-offset="70" href="clojure" class="nav-links">Clojure</a>
                      </li><li id="who-we-are">
                        <a data-hash="data-hash" data-hash-offset="70" href="who-we-are" class="nav-links">Who We Are</a>
                      </li><li id="blog" class="dropdown active">
                        <a data-hash="data-hash" data-hash-offset="70" href="blog" class="nav-links">Blog</a>
                      </li><li id="join-us!">
                        <a data-hash="data-hash" data-hash-offset="70" href="careers" class="nav-links">Join Us!</a>
                      </li><li id="contact-us">
                        <a data-hash="data-hash" data-hash-offset="70" href="#contact" class="nav-links">Contact Us</a>
                      </li>
                    </ul>
                  </nav>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>
</div>
<!-- END HEADER -->
</body></html><html><body><div class="row"><div class="blog-post">
  <h2></h2>
  <div class="col-md-8 col-md-offset-2"><div class="post-body"><h1>An Introduction to Clojure.Spec</h1><h5>By Alex Martin</h5><p><a href="http://clojure.org/about/spec">Clojure.spec</a> is a great tool for adding some tests and validation to your clojure project. </p><p>To begin require clojure.spec in your clj namespace.</p>
<pre class="codehilite"><div class="hll"><pre class="codehilite"><span class="p">(</span><span class="kd">ns </span><span class="nv">your-file.core</span>
    <span class="p">(</span><span class="ss">:require</span> <span class="p">[</span><span class="nv">clojure.spec</span> <span class="ss">:as</span> <span class="nv">s</span><span class="p">])</span>
</pre></div>
</pre><p>To begin let's define specs by associating them with a keyword and a validation, like so:</p>
<pre class="codehilite"><div class="hll"><pre class="codehilite"><span class="p">(</span><span class="nf">s/def</span> <span class="ss">::first-name</span> <span class="nv">string?</span><span class="p">)</span>
</pre></div>
</pre><p>Many times, you will want a more specific validation such as one that requires regex. You can accomplish this (non-clojure best practices) by first defining the regex separately and then calling it using an anonymous function as the second argument in a spec definition.</p>
<pre class="codehilite"><div class="hll"><pre class="codehilite"><span class="p">(</span><span class="k">def </span><span class="nv">id-regex</span> <span class="o">#</span><span class="s">"^\d{6}$"</span><span class="p">)</span>
<span class="p">(</span><span class="nf">s/def</span> <span class="ss">::id-type</span> <span class="o">#</span><span class="p">(</span><span class="nb">re-matches </span><span class="nv">id-regex</span> <span class="nv">%</span><span class="p">))</span>
</pre></div>
</pre><p>What happens if you want multiple validations for one spec? You can use the <code>and</code> function provided by Clojure.spec.</p>
<pre class="codehilite"><div class="hll"><pre class="codehilite"><span class="p">(</span><span class="k">def </span><span class="nv">time-regex</span> <span class="o">#</span><span class="s">"^([0-9]|1[012]):[0-5][0-9] ?((a|p)m|(A|P)M)$"</span><span class="p">)</span>
<span class="p">(</span><span class="nf">s/def</span> <span class="ss">::time-type</span> <span class="p">(</span><span class="nf">s/and</span> <span class="nb">string? </span><span class="o">#</span><span class="p">(</span><span class="nb">re-matches </span><span class="nv">time-regex</span> <span class="nv">%</span><span class="p">)))</span>
</pre></div>
</pre><p>This spec will only return true if both validations are required. Of course, <code>or</code> can be used if you only require one of several validations to be true.</p>
<pre class="codehilite"><div class="hll"><pre class="codehilite"><span class="p">(</span><span class="nf">s/def</span> <span class="ss">::day</span> <span class="p">(</span><span class="nf">s/or</span> <span class="s">"1"</span> <span class="s">"2"</span> <span class="s">"3"</span> <span class="s">"4"</span> <span class="s">"5"</span> <span class="s">"6"</span> <span class="s">"7"</span><span class="p">))</span>
</pre></div>
</pre><p>Another, cleaner way of writing the above spec would be to pass in a set as the second argument. The spec would return true if the entry was included in the set, and false otherwise.</p>
<pre class="codehilite"><div class="hll"><pre class="codehilite"><span class="p">(</span><span class="nf">s/def</span> <span class="ss">::day</span> <span class="o">#</span><span class="p">{</span><span class="s">"1"</span> <span class="s">"2"</span> <span class="s">"3"</span> <span class="s">"4"</span> <span class="s">"5"</span> <span class="s">"6"</span> <span class="s">"7"</span><span class="p">})</span>
</pre></div>
</pre><p>You have several options for testing whether an entry passes validation. The best is <code>valid?</code>, which returns true or false.</p>
<pre class="codehilite"><div class="hll"><pre class="codehilite"><span class="p">(</span><span class="nf">s/def</span> <span class="ss">::first-name</span> <span class="nv">string?</span><span class="p">)</span>
<span class="p">(</span><span class="nf">s/valid?</span> <span class="ss">::first-name</span> <span class="s">"Alex"</span><span class="p">)</span>
<span class="nv">=&gt;</span> <span class="nv">true</span>
<span class="p">(</span><span class="nf">s/valid?</span> <span class="ss">::first-name</span> <span class="mi">3</span><span class="p">)</span>
<span class="nv">=&gt;</span> <span class="nv">false</span>
</pre></div>
</pre><p>Another option is <code>conform</code>, which returns the validated data if true and false otherwise.</p>
<pre class="codehilite"><div class="hll"><pre class="codehilite"><span class="p">(</span><span class="nf">s/def</span> <span class="ss">::day</span> <span class="o">#</span><span class="p">{</span><span class="s">"1"</span> <span class="s">"2"</span> <span class="s">"3"</span> <span class="s">"4"</span> <span class="s">"5"</span> <span class="s">"6"</span> <span class="s">"7"</span><span class="p">})</span>
<span class="p">(</span><span class="nf">s/conform</span> <span class="ss">::day</span> <span class="s">"1"</span><span class="p">)</span>
<span class="nv">=&gt;</span> <span class="s">"1"</span>
<span class="p">(</span><span class="nf">s/conform</span> <span class="ss">::day</span> <span class="s">"Monday"</span><span class="p">)</span>
<span class="nv">=&gt;</span> <span class="nv">false</span>
</pre></div>
</pre><p>Once you've defined a set of specs that you want to use to test a given object you then can create an <strong>entity map</strong> for that object. We use the <code>keys</code> method to define all specs that the data should be validated for. You may specify which ones are optional or required with <code>:req</code> and <code>:opt</code>.</p>
<pre class="codehilite"><div class="hll"><pre class="codehilite"><span class="p">(</span><span class="nf">s/def</span> <span class="ss">::person</span> <span class="p">(</span><span class="nf">s/keys</span> <span class="ss">:req</span> <span class="p">[</span><span class="ss">::first-name</span> <span class="ss">::last-name</span> <span class="ss">::email</span><span class="p">]</span>
                        <span class="ss">:opt</span> <span class="p">[</span><span class="ss">::phone</span><span class="p">]))</span>
</pre></div>
</pre><p>You can also pass maps to either <code>conform</code> or <code>valid?</code> to find out whether or not your data is valid. It's that easy!</p>
<pre class="codehilite"><div class="hll"><pre class="codehilite"><span class="p">(</span><span class="nf">s/valid?</span> <span class="ss">::person</span> <span class="p">(</span><span class="ss">::first-name</span> <span class="s">"Alex"</span> <span class="ss">::last-name</span> <span class="s">"Martin"</span> <span class="ss">::email</span> <span class="s">"amartin@epxlabs.com"</span><span class="p">)</span>
<span class="nv">=&gt;</span> <span class="nv">true</span>
<span class="p">(</span><span class="nf">s/conform</span> <span class="ss">::person</span> <span class="p">(</span><span class="ss">::first-name</span> <span class="s">"Alex"</span> <span class="ss">::email</span> <span class="s">"amartin@epxlabs.com"</span><span class="p">)</span>
<span class="nv">=&gt;</span> <span class="nv">false</span>
</pre></div>
</pre><div id="disqus_thread"></div></div></div>
</div></div>
</body></html><section id="contact" class="section section-no-border mb-none bottom">
  <div class="container">
    <div class="row">
      <div class="col-md-6">
        <div class="alert alert-success hidden" id="contactSuccess">
          <strong>Success!</strong> We have received your message.
        </div>
        <div class="alert alert-danger hidden" id="contactError">
          <strong>Oops!</strong> An error occured and your message could not be sent. Please email us at <strong>hello@epxlabs.com</strong> or call us at <strong>+1 (646)-768-0123</strong>
        </div>
        <h2 class="mb-sm mt-sm"><strong>Contact</strong> Us</h2>
        <form id="contactForm" action="" method="POST">
          <div class="row">
            <div class="form-group">
              <div class="col-md-6">
                <label>Your name</label>
                <input type="text" value="" data-msg-required="Please enter your name." maxlength="100" class="form-control" name="name" id="name" required="required" />
              </div>
              <div class="col-md-6">
                <label>Your email address</label>
                <input type="email" value="" data-msg-required="Please enter your email address." data-msg-email="Please enter a valid email address." maxlength="100" class="form-control" name="email" id="email" required="required" />
              </div>
            </div>
          </div>
          <div class="row">
            <div class="form-group">
              <div class="col-md-12">
                <label>Message</label>
                <textarea maxlength="5000" data-msg-required="Please enter your message." rows="6" class="form-control" name="message" id="message" required="required"></textarea>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <input type="submit" value="Submit" class="btn btn-primary btn-lg mb-xlg" data-loading-text="Loading..." />
            </div>
          </div>
        </form>
      </div>
      <div class="col-md-6">
        <h4 class="heading-primary mt-lg">Get in <strong>Touch</strong></h4>
        <p id="get-in-touch">We are always available to help solve your business problems, meet others in the serverless space, and discuss what we're passionate about. You can get in touch with us here :-)</p>
        <hr />
        <ul id="contact-info" class="list list-icons list-icons-style-3 mt-xlg">
          <li><i class="fa fa-phone"></i> <strong>Phone:</strong> 646.768.0123</li>
          <li><i class="fa fa-envelope"></i> <strong>Email:</strong><a href="mailto:hello@epxlabs.com"> hello@epxlabs.com</a></li>
        </ul>
        <hr />
        <h4 class="heading-primary">Follow <strong>Us</strong></h4>
        <ul class="social-icons">
          <li class="social-icons-github"><a target="_blank" href="https://github.com/epxlabs/" title="GitHub"><i class="fa fa-github"></i></a></li><li class="social-icons-linkedin"><a target="_blank" href="https://www.linkedin.com/company/epx-labs/" title="LinkedIn"><i class="fa fa-linkedin"></i></a></li><li class="social-icons-twitter"><a target="_blank" href="https://twitter.com/epxlabs" title="Twitter"><i class="fa fa-twitter"></i></a></li>
        </ul>
      </div>
    </div>
  </div>

<!-- END CONTACT US -->
</section><footer id="footer" class="color color-secondary">
  <div class="footer-copyright">
    <div class="container">
      <div class="row">
        <div class="col-xs-6 col-xs-offset-3 col-md-2 col-md-offset-5">
          <a href="index.html" class="logo">
            <img alt="EPX Labs" class="img-responsive" src="/img/logos/62b1cdcca819/epx_logo.svg" />
          </a>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4 text-center col-md-offset-4" id="copyright">
          <p>© Copyright 2017 EPX Labs, Inc. All Rights Reserved.</p>
        </div>
      </div>
    </div>
  </div>
</footer></div>
    </div>
    <!-- JS Bundle -->
    <script src="/bundles/e5a487604c0d/app.js"></script>
    <script id="dsq-count-scr" src="//www-epxlabs-com.disqus.com/count.js" async="async"></script>
    <!-- Google Analytics Script -->
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-85354348-2', 'auto');
  ga('send', 'pageview');</script>
  </body>

</html>